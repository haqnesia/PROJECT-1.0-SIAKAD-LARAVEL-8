
# STEP 1

    <button class="btn btn-warning btn-sm" data-act="item_edit" data-kode="{{ $row->fak_kode }}"> <i class="fas fa-pencil-alt"></i></button>

# STEP 1
    <div class="modal modal-default fade" id="formModalEdit">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content" style="background-color: #ffffff"></div>
    </div>
</div>

# STEP 2

    // AJAX EDIT

    $(document).on('click', '[data-act=item_edit]', function (e) {
        e.preventDefault();

        var kode = $(this).data('kode');

        $.get("{{ route('fakultas.edit') }}", { kode: kode })
            .done(function (r) {
                if (r.success) {
                    $('#formModalEdit .modal-content').html(r.html);
                    $('#formModalEdit').modal('show');
                } else {
                    alert(r.message);
                }
            })
            .fail(function (x) {
                alert(x.status + ' - ' + x.statusText);
            });
    });

    // AJAX EDIT

    $(document).on('submit', '#fakultas_update', function (e) {
        e.preventDefault();

        var form = this;
        $(form).find('button[type=submit]').prop('disabled', true);

        $.post($(form).attr('action'), $(form).serialize())
            .done(function (r) {
                if (r.success) {
                    $('#formModalEdit').modal('hide');
                    alert('Data berhasil diupdate');
                    view_data();
                } else {
                    alert(r.message);
                }
            })
            .fail(function (x) {
                alert(x.status + ' - ' + x.statusText);
            })
            .always(function () {
                $(form).find('button[type=submit]').prop('disabled', false);
            });
    });

# TAMBAHKAN ROUTE DATA

    Route::get('/edit', [MasterFakultasController::class, 'edit'])->name('edit');
    Route::post('/update', [MasterFakultasController::class, 'update'])->name('update');


# TAMBAHKAN FUNCTION DATA pada CONTROLLER

    # FUNGSI EDIT

    public function edit(Request $r){

        $result = array('success'=>false);

        try {
 
            $kode           = $r->get('kode');
            $data           = MasterFakultas::findOrFail($kode);
            
        } catch (\Exception $e) {
            $result['message'] = $e->getMessage();	
            return response()->json($result);
        }

        $result['success']  = true;
        $result['html']     = html_normalize(view('master_fakultas.modal_edit',compact('data'))->render());

        return response()->json($result);

    }

    # FUNGSI UPDATE

    public function update(Request $r){

        $result = array('success'=>false);

        try {

            # VALIADASI

            $r->validate([
                'kode_edit' => 'required',
                'nama_edit' => 'required'
            ]);

            $kode   = $r->get('kode_edit');
            $data   = MasterFakultas::findOrFail($kode);

            # PROSES UPDATE

            $data->fak_nama         = $r->nama_edit;

            $data->updated_kode     = $this->UsersID;
            $data->updated_nama     = $this->UsersName;
            $data->updated_ip       = $r->ip();

            $data->save();

        } catch (\Exception $e) {
            $result['message'] = $e->getMessage();	
            return response()->json($result);
        }

        $result['success']  = true;
        $result['html']     = html_normalize(view('master_fakultas.modal_edit',compact('data'))->render());

        return response()->json($result);

    }


# TAMBAHKAN FUNCTION DATA pada CONTROLLER






